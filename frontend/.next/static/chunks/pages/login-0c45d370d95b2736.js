(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{6429:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return s(7644)}])},7644:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return Login}});var r=s(5893),a=s(7294),n=s(1163),l=s(1664),i=s.n(l),c=s(9185),o=s(169);function Login(){let[e,t]=(0,a.useState)({email:"",password:""}),[s,l]=(0,a.useState)(!1),[d,u]=(0,a.useState)(""),[m,p]=(0,a.useState)(!1),h=(0,n.useRouter)(),handleSubmit=async t=>{t.preventDefault(),l(!0),u("");try{let t=await c.I8.login(e);(0,o.QV)(t.data.token,t.data.user),"admin"===t.data.user.role?h.push("/admin"):h.push("/")}catch(e){var s,r;u((null===(r=e.response)||void 0===r?void 0:null===(s=r.data)||void 0===s?void 0:s.error)||"Login failed")}finally{l(!1)}};return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center py-12 px-4",children:(0,r.jsx)("div",{className:"max-w-md w-full",children:(0,r.jsxs)("div",{className:"card p-8",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold gradient-text mb-2",children:"\uD83D\uDD11 Welcome Back"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Sign in to your account to continue shopping"})]}),d&&(0,r.jsx)("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-6 rounded-r-lg",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("span",{className:"text-red-500 mr-2",children:"⚠️"}),(0,r.jsx)("span",{className:"text-red-700",children:d})]})}),(0,r.jsxs)("form",{onSubmit:handleSubmit,className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-gray-700 font-semibold mb-2",children:"\uD83D\uDCE7 Email Address"}),(0,r.jsx)("input",{type:"email",value:e.email,onChange:s=>t({...e,email:s.target.value}),className:"input-field",placeholder:"Enter your email",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-gray-700 font-semibold mb-2",children:"\uD83D\uDD12 Password"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:m?"text":"password",value:e.password,onChange:s=>t({...e,password:s.target.value}),className:"input-field pr-12",placeholder:"Enter your password",required:!0}),(0,r.jsx)("button",{type:"button",onClick:()=>p(!m),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:m?"\uD83D\uDC41️":"\uD83D\uDE48"})]})]}),(0,r.jsx)("button",{type:"submit",disabled:s,className:"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:s?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"animate-spin mr-2",children:"⏳"}),"Signing in..."]}):"\uD83D\uDE80 Sign In"})]}),(0,r.jsx)("div",{className:"mt-8 text-center",children:(0,r.jsxs)("p",{className:"text-gray-600",children:["Don't have an account?"," ",(0,r.jsx)(i(),{href:"/register",className:"text-blue-600 hover:text-blue-800 font-semibold",children:"Create one here →"})]})}),(0,r.jsxs)("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[(0,r.jsx)("h3",{className:"font-semibold text-blue-900 mb-2",children:"\uD83C\uDF86 Demo Accounts"}),(0,r.jsxs)("div",{className:"text-sm text-blue-800 space-y-1",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Admin:"})," admin@clothstore.com / password"]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"User:"})," user@clothstore.com / user123"]})]})]})]})})})}},9185:function(e,t,s){"use strict";s.d(t,{A6:function(){return i},I8:function(){return n},RB:function(){return l}});var r=s(7066);let a=r.Z.create({baseURL:"https://clothstore-98w2.onrender.com/api"});a.interceptors.request.use(e=>{let t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e});let n={login:e=>a.post("/auth/login",e),register:e=>a.post("/auth/register",e)},l={getAll:()=>a.get("/products"),getById:e=>a.get("/products/".concat(e)),create:e=>a.post("/products",e,{headers:{"Content-Type":"multipart/form-data"}}),update:(e,t)=>a.put("/products/".concat(e),t,{headers:{"Content-Type":"multipart/form-data"}}),delete:e=>a.delete("/products/".concat(e))},i={create:e=>a.post("/orders",e),getAll:()=>a.get("/orders"),getAllAdmin:()=>a.get("/orders/admin/all"),getRevenue:()=>a.get("/orders/admin/revenue"),updateStatus:(e,t)=>a.put("/orders/".concat(e,"/status"),{status:t}),cancel:e=>a.put("/orders/".concat(e,"/cancel"))}},1163:function(e,t,s){e.exports=s(9974)}},function(e){e.O(0,[66,774,888,179],function(){return e(e.s=6429)}),_N_E=e.O()}]);